version: '3.0'

expectations:
  population_size: 30000

actions:

### study cohort ###
  generate_study_population_case:
    run: cohortextractor:latest generate_cohort --study-definition study_definition_case
    outputs:
      highly_sensitive:
        cohort: output/input_case.csv

### extract patient_id & index_date in case ###

  process_1:  
    run: r:latest analysis/process_1.R
    needs: [generate_study_population_case]
    outputs:
      highly_sensitive:
        table1: output/table_case_0.csv
        table2: output/table_case_1.csv
