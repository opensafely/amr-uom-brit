---
title: "table 2"
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r packages, include=FALSE}
require('tidyverse')
require("gtsummary")
```




```{r}
#df1=read_rds("/Users/yayang/Documents/GitHub/amr-uom-brit/output/matched_outcome.rds")

df1 <- read_rds(here::here("output","matched_outcome.rds"))
df1=df1%>% select("case","ethnicity_6",  "bmi_cat",  "CCI", "cancer","cvd","copd","heart_failure" ,"connective_tissue",      "dementia" , "diabetes","diabetes_complications" ,"hemiplegia","hiv","metastatic_cancer" ,"mild_liver","mod_severe_liver",  "mod_severe_renal","mi" ,"peptic_ulcer","peripheral_vascular", "smoking_cat_3","imd","care_home_type","care_home","covrx_ever","flu_vaccine")


```

```{r}

#df0=df0%>%select("stp")

table1 <- 
  tbl_summary(
    df1,
    by = case, 
    statistic = list(all_continuous() ~ "{mean} ({sd})",
                     all_categorical() ~ "{n}  ({p}%)"),
  ) %>%
  modify_header(label = "**Variable**") %>% # update the column header
  bold_labels() 

table1
```


