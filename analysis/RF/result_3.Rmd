---
title: "antibiotics exposure btw case/control"
---

```{r setup, include=FALSE}
library('tidyverse')
library("ggplot2")
library('dplyr')
library('lubridate')
library('stringr')
library("data.table")
library("ggpubr")
library("finalfit")
```


# read table
```{r}
data=read_rds(here::here("output","all_ranger.rds"))
data$decile=as.factor(data$decile)
data$case=as.factor(data$case)
```

# box plot
```{r}
ggplot(data, aes(x=case, y=total_ab)) + 
  geom_boxplot(notch=TRUE,outlier.shape = NA)
ggplot(data, aes(x=case, y=total_ab)) + 
  geom_boxplot(outlier.shape = NA)
```


```{r}
ggplot(data, aes(x=case, y=ab_types)) + 
  geom_boxplot(notch=TRUE,outlier.shape = NA)
ggplot(data, aes(x=case, y=ab_types)) + 
  geom_boxplot(outlier.shape = NA)
```


```{r}
ggplot(data, aes(x=case, y=exposure_period)) + 
  geom_boxplot(outlier.shape = NA,notch=TRUE)
ggplot(data, aes(x=case, y=exposure_period)) + 
  geom_boxplot(outlier.shape = NA)
```


```{r}
ggplot(data, aes(x=case, y=recent_ab_days)) + 
  geom_boxplot(outlier.shape = NA,notch=TRUE)
ggplot(data, aes(x=case, y=recent_ab_days)) + 
  geom_boxplot(outlier.shape = NA)
```


```{r}
ggplot(data, aes(x=case, y=broad_ab_prescriptions)) + 
  geom_boxplot(outlier.shape = NA,notch=TRUE)
ggplot(data, aes(x=case, y=broad_ab_prescriptions)) + 
  geom_boxplot(outlier.shape = NA)
```


```{r}
ggplot(data, aes(x=case, y=interval_mean)) + 
  geom_boxplot(outlier.shape = NA,notch=TRUE)
ggplot(data, aes(x=case, y=interval_mean)) + 
  geom_boxplot(outlier.shape = NA)
```


```{r}
ggplot(data, aes(x=case, y=interval_mean)) + 
  geom_boxplot(outlier.shape = NA,notch=TRUE)
ggplot(data, aes(x=case, y=interval_mean)) + 
  geom_boxplot(outlier.shape = NA)
```

