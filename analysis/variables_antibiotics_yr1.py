from cohortextractor import filter_codes_by_category, patients, combine_codelists
from codelists import *
from datetime import datetime, timedelta

def generate_ab_variables_yr1(index_date_variable):
    ab_variables_yr1 = dict(
         ## ab types:79
Rx_1_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_1_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-72days', f'{index_date_variable}-42days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_2_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-102days', f'{index_date_variable}-73days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_3_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-132days', f'{index_date_variable}-103days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_4_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-162days', f'{index_date_variable}-133days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_5_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-192days', f'{index_date_variable}-163days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_6_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-222days', f'{index_date_variable}-193days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_7_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-252days', f'{index_date_variable}-223days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_8_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-282days', f'{index_date_variable}-253days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_9_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-312days', f'{index_date_variable}-283days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_10_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-342days', f'{index_date_variable}-313days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_11_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-372days', f'{index_date_variable}-343days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Amoxicillin=patients.with_these_medications(codes_ab_type_Amoxicillin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Azithromycin=patients.with_these_medications(codes_ab_type_Azithromycin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Cefalexin=patients.with_these_medications(codes_ab_type_Cefalexin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Ciprofloxacin=patients.with_these_medications(codes_ab_type_Ciprofloxacin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Clarithromycin=patients.with_these_medications(codes_ab_type_Clarithromycin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Co_amoxiclav=patients.with_these_medications(codes_ab_type_Co_amoxiclav,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Doxycycline=patients.with_these_medications(codes_ab_type_Doxycycline,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Flucloxacillin=patients.with_these_medications(codes_ab_type_Flucloxacillin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Nitrofurantoin=patients.with_these_medications(codes_ab_type_Nitrofurantoin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Phenoxymethylpenicillin=patients.with_these_medications(codes_ab_type_Phenoxymethylpenicillin,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),
Rx_12_Trimethoprim=patients.with_these_medications(codes_ab_type_Trimethoprim,between=[f'{index_date_variable}-402days', f'{index_date_variable}-373days'],returning='number_of_matches_in_period',return_expectations={'int': {'distribution': 'normal', 'mean': 3, 'stddev': 1},'incidence': 0.5,}),

        
    ## number of total prescriptions 
    ab_prescriptions=patients.with_these_medications(
        antibacterials_codes_brit,
        between=[f'{index_date_variable}- 1137 days', f'{index_date_variable}- 42 days'],
        returning="number_of_matches_in_period",
        return_expectations={
            "int": {"distribution": "normal", "mean": 3, "stddev": 1},
            "incidence": 0.5,
        },
    ),
    
    # ## time period ab prescriptions 
    # ab_first_date=patients.with_these_medications(
    #     antibacterials_codes_brit,
    #     between=[f'{index_date_variable}- 1137 days', f'{index_date_variable}- 42 days'],
    #     returning="date",
    #     find_first_match_in_period=True,  
    #     date_format="YYYY-MM-DD",  
    #     return_expectations={"date": {"earliest": "2020-03-01"}, "incidence" : 0.5},
    # ),

    # ab_last_date=patients.with_these_medications(
    #     antibacterials_codes_brit,
    #     between=[f'{index_date_variable}- 1137 days', f'{index_date_variable}- 42 days'],
    #     returning="date",
    #     find_last_match_in_period=True,  
    #     date_format="YYYY-MM-DD",  
    #     return_expectations={"date": {"earliest": "2020-03-01"}, "incidence" : 0.5},
    # ),


    ## number of broad-spectrum ab prescriptions
   
    broad_ab_prescriptions=patients.with_these_medications(
        broad_spectrum_antibiotics_codes,
        between=[f'{index_date_variable}- 1137 days', f'{index_date_variable}- 42 days'],
        returning="number_of_matches_in_period",
        return_expectations={
            "int": {"distribution": "normal", "mean": 3, "stddev": 1},
            "incidence": 0.5,
        },
    ),

    ## time difference

  )
    return ab_variables_yr1


